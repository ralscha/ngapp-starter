<form #form="ngForm" (ngSubmit)="form.valid && login(username.value, password.value)"
  [ngFormOptions]="{updateOn: 'submit'}" novalidate>

  <div>
    <h2>Login</h2>

    <label for="username">Username</label>
    <div>
      <input #username="ngModel" autocapitalize="off" autocomplete="username" autofocus
        id="username" name="username"
        ngModel pInputText
        required
        spellcheck="false"/>
      @if (form.submitted && username.invalid) {
        <div class="input-error">
          @if (username.errors?.['required']) {
            <span>Username is mandatory</span>
          }
        </div>
      }
    </div>

    <label for="password">Password</label>
    <div>
      <input #password="ngModel"
        autocomplete="current-password" id="password"
        name="password"
        ngModel pInputText required
        type="password"/>

      @if (form.submitted && password.invalid) {
        <div class="input-error">
          @if (password.errors?.['required']) {
            <span>Password is mandatory</span>
          }
        </div>
      }
    </div>

    <button label="Login" pButton type="submit"></button>
  </div>
</form>






